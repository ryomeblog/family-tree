# 家系図アプリケーション

React製の家系図作成・管理アプリケーション。家族の関係を視覚的に表示し、人物情報や関係を簡単に管理できます。

## 機能

- 人物情報の登録・編集・削除
- 関係（夫婦関係）の追加・削除
- 子供の追加
- 家系図の視覚的な表示
- ズーム＆パン操作
- 人物検索機能

### 人物情報

以下の情報を管理できます：

- 名前（必須）
- 生年月日
- 性別
- 職業（最大10個）
- 趣味（最大10個）
- アレルギー（predefined options）
- 備考

## 技術スタック

- React
- ReactFlow（家系図の視覚化）
- TailwindCSS（スタイリング）
- Storybook（UIコンポーネント管理）
- ESLint（コード品質管理）
- Prettier（コードフォーマット）

## セットアップ

1. リポジトリのクローン:

```bash
git clone https://github.com/ryomeblog/family-tree.git
cd family-tree
```

2. 依存関係のインストール:

```bash
npm install
```

3. 開発サーバーの起動:

```bash
npm start
```

4. Storybookの起動（オプション）:

```bash
npm run storybook
```

## 使用方法

1. 人物の追加

   - 「人物登録」ボタンをクリック
   - 必要な情報を入力
   - 「追加」をクリック

2. 関係の追加

   - 人物をクリックして詳細を表示
   - 「関係を追加」をクリック
   - 関係を結ぶ相手を選択
   - 関係名を入力
   - 「追加」をクリック

3. 子供の追加

   - 関係ノードをクリック
   - 「子供を追加」をクリック
   - 子供の情報を入力
   - 「追加」をクリック

4. 人物の編集・削除

   - 人物をクリックして詳細を表示
   - 「編集」または「削除」をクリック

5. 関係の削除

   - 関係ノードをクリック
   - 「関係を削除」をクリック

6. 検索
   - ヘッダーの検索ボックスに検索語を入力
   - 名前または職業で検索可能

## ディレクトリ構造

```
src/
├── components/           # UIコンポーネント
│   ├── common/          # 共通コンポーネント
│   ├── layout/          # レイアウト関連
│   ├── familyTree/      # 家系図関連
│   └── forms/           # フォーム関連
├── hooks/               # カスタムフック
├── utils/              # ユーティリティ関数
├── constants/          # 定数
└── styles/            # スタイル
```

## 開発ガイドライン

### コンポーネント開発

1. 新しいコンポーネントの作成:

   - components/適切なディレクトリに配置
   - .jsx ファイルと .stories.jsx ファイルを作成
   - PropTypesで型を定義

2. Storybook活用:
   - コンポーネントの様々なバリエーションを作成
   - インタラクションのテスト
   - アクセシビリティの確認

### コーディング規約

- ESLintとPrettierの設定に従う
- コンポーネントはReact Hooksを使用
- パフォーマンスを考慮したメモ化の活用
- 適切なエラーハンドリング

## バリデーションルール

### 人物情報

- 名前: 必須項目
- 職業: 最大10個まで
- 趣味: 最大10個まで
- アレルギー: 定義済みの選択肢から選択

### 関係

- 同一人物との関係は作成不可
- 既に配偶者がいる場合は新規関係を作成不可

## パフォーマンス最適化

- メモ化によるレンダリング最適化
- 大規模データの効率的な処理
- レイアウト計算の最適化

## ブラウザサポート

- Google Chrome (latest)
- Firefox (latest)
- Safari (latest)
- Edge (latest)

## ライセンス

MIT License
